(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{YpPo:function(t,s,e){"use strict";e.r(s);var i=e("o0o1"),a=e.n(i),n=e("XuX8"),o=e.n(n),r=e("4HBT"),l=e("uUT0");o.a.component(r.HasError.name,r.HasError),o.a.component(r.AlertError.name,r.AlertError);var u={name:"AddSuggestionComponent",props:["suggestions"],data:function(){return{clickSubmit:!1,suggestionForm:new r.Form({suggestion_id:null,description:null})}},methods:{checkSuggestionForm:function(){var t=this;this.clickSubmit=!0,this.suggestionForm.submit("post","/suggestion/add_suggestion",{transformRequest:[function(t,s){return Object(l.serialize)(t)}],onUploadProgress:function(t){}}).then((function(s){var e=s.data,i=(s.status,e.message);swal({title:"Success!",text:i,type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-primary"}).then(function(){this.clickSubmit=!1,this.suggestionForm.clear(),this.suggestionForm.reset(),this.$parent.fetchSuggestionTypes(),$("div#modal-add-suggestion").modal("hide")}.bind(t))})).catch((function(s){t.clickSubmit=!1;var e=s.response,i=e.data,a=e.status;if(401==a)Swal.fire({type:"warning",title:"Warning",text:"Session has been expired."});else if(422===a){var n=i.message;Swal.fire({type:"warning",title:"Warning",text:n})}else Swal.fire({type:"error",title:"Error",text:"Oops, something went wrong!"})}))}}},c=e("KHd+"),d=Object(c.a)(u,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("form",{attrs:{method:"post",enctype:"multipart/form-data"},on:{submit:function(s){return s.preventDefault(),t.checkSuggestionForm(s)}}},[e("div",{staticClass:"modal-body p-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"suggestion"}},[t._v("Suggestion")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.suggestionForm.suggestion_id,expression:"suggestionForm.suggestion_id"}],staticClass:"form-control",class:{"is-invalid":t.suggestionForm.errors.has("suggestion_id")},attrs:{id:"suggestion"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.suggestionForm,"suggestion_id",s.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._v(" "),t._l(t.suggestions,(function(s,i){return e("option",{key:i,domProps:{value:s.id}},[t._v(t._s(s.suggestion))])}))],2),t._v(" "),e("has-error",{attrs:{form:t.suggestionForm,field:"suggestion_id"}})],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Description")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.suggestionForm.description,expression:"suggestionForm.description"}],staticClass:"form-control",class:{"is-invalid":t.suggestionForm.errors.has("description")},attrs:{type:"text",id:"description",placeholder:"Description",autocomplete:"off"},domProps:{value:t.suggestionForm.description},on:{input:function(s){s.target.composing||t.$set(t.suggestionForm,"description",s.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.suggestionForm,field:"description"}})],1)])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),!1===t.clickSubmit?e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v("Save changes")]):e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{disabled:""}},[e("span",{staticClass:"spinner-border spinner-border-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("\n                    Loading...\n                ")])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title"},[this._v("Suggestion Details")]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null).exports;o.a.component(r.HasError.name,r.HasError),o.a.component(r.AlertError.name,r.AlertError);var g={name:"EditFlavorComponent",props:["suggestions","suggestion_details"],data:function(){return{clickSubmit:!1,suggestionForm:new r.Form({id:null,suggestion_id:null,description:null})}},methods:{fetchSuggestionDetails:function(t){var s=this;axios.get("/suggestion/fetch_suggestion_details/".concat(t)).then((function(t){var e=t.data;s.suggestionForm.fill(e)}))},checkSuggestionForm:function(){var t=this;this.clickSubmit=!0,this.suggestionForm.submit("post","/suggestion/update_suggestion",{transformRequest:[function(t,s){return Object(l.serialize)(t)}],onUploadProgress:function(t){}}).then((function(s){var e=s.data,i=(s.status,e.message);swal({title:"Success!",text:i,type:"success",buttonsStyling:!1,confirmButtonClass:"btn btn-primary"}).then(function(){this.clickSubmit=!1,this.$parent.fetchSuggestionTypes(),$("div#modal-edit-suggestion").modal("hide")}.bind(t))})).catch((function(s){t.clickSubmit=!1;var e=s.response,i=e.data,a=e.status;if(401==a)Swal.fire({type:"warning",title:"Warning",text:"Session has been expired."});else if(422===a){var n=i.message;Swal.fire({type:"warning",title:"Warning",text:n})}else Swal.fire({type:"error",title:"Error",text:"Oops, something went wrong!"})}))}},watch:{suggestion_details:function(t){this.fetchSuggestionDetails(t.id)}}};function m(t,s,e,i,a,n,o){try{var r=t[n](o),l=r.value}catch(t){return void e(t)}r.done?s(l):Promise.resolve(l).then(i,a)}function v(t){return function(){var s=this,e=arguments;return new Promise((function(i,a){var n=t.apply(s,e);function o(t){m(n,i,a,o,r,"next",t)}function r(t){m(n,i,a,o,r,"throw",t)}o(void 0)}))}}var f={components:{AddSuggestion:d,EditSuggestion:Object(c.a)(g,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("form",{attrs:{method:"post",enctype:"multipart/form-data"},on:{submit:function(s){return s.preventDefault(),t.checkSuggestionForm(s)}}},[e("div",{staticClass:"modal-body p-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"suggestion"}},[t._v("Suggestion")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.suggestionForm.suggestion_id,expression:"suggestionForm.suggestion_id"}],staticClass:"form-control",class:{"is-invalid":t.suggestionForm.errors.has("suggestion_id")},attrs:{id:"suggestion"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.suggestionForm,"suggestion_id",s.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._v(" "),t._l(t.suggestions,(function(s,i){return e("option",{key:i,domProps:{value:s.id}},[t._v(t._s(s.suggestion))])}))],2),t._v(" "),e("has-error",{attrs:{form:t.suggestionForm,field:"suggestion_id"}})],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Description")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.suggestionForm.description,expression:"suggestionForm.description"}],staticClass:"form-control",class:{"is-invalid":t.suggestionForm.errors.has("description")},attrs:{type:"text",id:"description",placeholder:"Description",autocomplete:"off"},domProps:{value:t.suggestionForm.description},on:{input:function(s){s.target.composing||t.$set(t.suggestionForm,"description",s.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.suggestionForm,field:"description"}})],1)])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),!1===t.clickSubmit?e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{type:"submit"}},[t._v("Save changes")]):e("button",{staticClass:"btn btn-info waves-effect waves-light",attrs:{disabled:""}},[e("span",{staticClass:"spinner-border spinner-border-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("\n                    Loading...\n                ")])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title"},[this._v("Suggestion Details")]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null).exports},data:function(){return{clickAddSuggestion:!1,table:{},table_data:[],params:{},suggestions:{},suggestion_details:{}}},computed:{getList:function(){return this.table_data}},methods:{fetchSuggestionTypes:function(){var t=this;return v(a.a.mark((function s(){var e,i,n;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return $.fn.DataTable.isDataTable("#dt-suggestion")&&(t.table.destroy(),t.table_data=[]),s.next=3,axios.get("/suggestion/fetch_product_suggestion");case 3:e=s.sent,i=e.data,t.table_data=i,n=t,setTimeout((function(){n.table=$("#dt-suggestion").DataTable({destroy:!0,order:[[1,"asc"]],columnDefs:[{targets:[0],width:"10%"},{targets:[3],orderable:!1,width:"15%",className:"text-center"}],language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}})}),100);case 8:case"end":return s.stop()}}),s)})))()},setupSuggestion:function(){var t=this;return v(a.a.mark((function s(){var e,i;return a.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.clickAddSuggestion=!0,s.next=3,axios.get("/suggestion/fetch_suggestion");case 3:e=s.sent,i=e.data,t.suggestions=i,$("div#modal-add-suggestion").modal({backdrop:"static",keyboard:!1,show:!0}),t.clickAddSuggestion=!1;case 8:case"end":return s.stop()}}),s)})))()},editSuggestion:function(t,s){var e=this;return v(a.a.mark((function t(){var i,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/suggestion/fetch_suggestion");case 2:i=t.sent,n=i.data,e.suggestions=n,e.suggestion_details={id:s},$("div#modal-edit-suggestion").modal({backdrop:"static",keyboard:!1,show:!0});case 7:case"end":return t.stop()}}),t)})))()},changeStatus:function(t,s,e){var i=this;this.params={id:s,status:e},Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",allowOutsideClick:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, change it!"}).then((function(t){t.value&&axios.put("/suggestion/change_status",i.params).then((function(t){var s=t.data,e=(t.status,s.message);Swal.fire({type:"success",title:"Success",text:e}).then((function(t){i.fetchSuggestionTypes()}))}))}))},deleteSuggestion:function(t){var s=this;this.params={id:t,status:status},Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",allowOutsideClick:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&axios.delete("/suggestion/delete_suggestion/".concat(t)).then((function(t){var e=t.data,i=(t.status,e.message);Swal.fire({type:"success",title:"Success",text:i}).then((function(t){s.fetchSuggestionTypes()}))}))}))}},mounted:function(){this.fetchSuggestionTypes()}},p=Object(c.a)(f,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[!1===t.clickAddSuggestion?e("button",{staticClass:"btn btn-primary waves-effect waves-light float-right",on:{click:t.setupSuggestion}},[e("i",{staticClass:"fas fa-plus-circle"}),t._v(" Add Suggestion")]):e("button",{staticClass:"btn btn-primary waves-effect waves-light float-right",attrs:{disabled:""}},[e("span",{staticClass:"spinner-border spinner-border-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("\n                                Loading...\n                            ")])])]),t._v(" "),e("hr"),t._v(" "),e("table",{staticClass:"table table-sm table-hover",attrs:{id:"dt-suggestion",width:"100%"}},[t._m(1),t._v(" "),t.table_data.length>0?e("tbody",t._l(t.getList,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1)+".")]),t._v(" "),e("td",[t._v(t._s(s.suggestion))]),t._v(" "),e("td",[t._v(t._s(s.description))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-sm btn-light btn-rounded",attrs:{"data-wenk":"Edit Suggestion"},on:{click:function(e){return t.editSuggestion(i,s.id)}}},[e("i",{staticClass:"text-primary remixicon-file-edit-line"})]),t._v(" "),0===s.status?e("button",{staticClass:"btn btn-sm btn-light btn-rounded",attrs:{"data-wenk":"Activate Status","data-wenk-pos":"left"},on:{click:function(e){return t.changeStatus(i,s.id,1)}}},[e("i",{staticClass:"text-success remixicon-check-fill"})]):e("button",{staticClass:"btn btn-sm btn-light btn-rounded",attrs:{"data-wenk":"Deactivate Status","data-wenk-pos":"left"},on:{click:function(e){return t.changeStatus(i,s.id,0)}}},[e("i",{staticClass:"text-danger remixicon-close-fill"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-light btn-rounded",attrs:{"data-wenk":"Delete Suggestion"},on:{click:function(e){return t.deleteSuggestion(s.id)}}},[e("i",{staticClass:"text-danger remixicon-delete-bin-2-line"})])])])})),0):t._e()])])])])]),t._v(" "),e("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-add-suggestion",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("add-suggestion",{attrs:{suggestions:t.suggestions}})],1),t._v(" "),e("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"modal-edit-suggestion",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("edit-suggestion",{attrs:{suggestions:t.suggestions,suggestion_details:t.suggestion_details}})],1)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"page-title-box"},[s("div",{staticClass:"page-title-right"},[s("ol",{staticClass:"breadcrumb m-0"},[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"javascript: void(0);"}},[this._v("Setup")])]),this._v(" "),s("li",{staticClass:"breadcrumb-item active"},[this._v("Suggestion Types")])])]),this._v(" "),s("h4",{staticClass:"page-title"},[this._v("Suggestion Types")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",[this._v("No.")]),this._v(" "),s("th",[this._v("Suggestion")]),this._v(" "),s("th",[this._v("Types")]),this._v(" "),s("th",[this._v("Action")])])])}],!1,null,null,null);s.default=p.exports}}]);